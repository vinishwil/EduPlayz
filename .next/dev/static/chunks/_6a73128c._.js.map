{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinish/Documents/Workspace/Frontend/EduPlayz/src/hooks/use-speech.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\n\nexport function useSpeech() {\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const recognitionRef = useRef<any>(null);\n  const [isSupported, setIsSupported] = useState(false);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const utteranceRef = useRef<SpeechSynthesisUtterance | null>(null);\n  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);\n\n  const populateVoiceList = useCallback(() => {\n    if (typeof window !== 'undefined' && window.speechSynthesis) {\n      try {\n        const newVoices = window.speechSynthesis.getVoices();\n        console.log(\"üì¢ Available voices:\", newVoices.length);\n        if (newVoices.length > 0) {\n          setVoices(newVoices);\n        }\n      } catch (error) {\n        console.error(\"Error loading speech synthesis voices:\", error);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    // --- Speech Recognition Setup ---\n    if (typeof window !== 'undefined') {\n      const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\n      if (SpeechRecognition) {\n        setIsSupported(true);\n        const recognition = new SpeechRecognition();\n        recognition.continuous = false;\n        recognition.lang = 'en-US';\n        recognition.interimResults = false;\n\n        recognition.onresult = (event: any) => {\n          const currentTranscript = event.results[0][0].transcript;\n          setTranscript(currentTranscript);\n          setIsListening(false);\n        };\n\n        recognition.onerror = (event: any) => {\n          console.error('Speech recognition error', event.error);\n          setIsListening(false);\n        };\n        \n        recognition.onend = () => {\n          setIsListening(false);\n        };\n\n        recognitionRef.current = recognition;\n      } else {\n        setIsSupported(false);\n      }\n    }\n\n    // --- Speech Synthesis Setup ---\n    if (typeof window !== 'undefined' && window.speechSynthesis) {\n        populateVoiceList();\n        if (window.speechSynthesis.onvoiceschanged !== undefined) {\n            window.speechSynthesis.onvoiceschanged = populateVoiceList;\n        }\n        \n        // Initialize speech synthesis with a silent utterance to prepare it\n        try {\n          const initUtterance = new SpeechSynthesisUtterance('');\n          initUtterance.volume = 0;\n          window.speechSynthesis.speak(initUtterance);\n          \n          // Chrome fix: Force resume audio context after initialization\n          setTimeout(() => {\n            if (window.speechSynthesis.paused) {\n              window.speechSynthesis.resume();\n            }\n          }, 100);\n        } catch (error) {\n          console.warn(\"Could not initialize speech synthesis:\", error);\n        }\n    }\n\n    // --- Audio Player and Synthesis Cleanup ---\n    const cleanup = () => {\n        try {\n          if (audioRef.current) {\n              audioRef.current.pause();\n              audioRef.current.src = \"\";\n          }\n          if (typeof window !== 'undefined' && window.speechSynthesis) {\n              window.speechSynthesis.cancel();\n          }\n        } catch (error) {\n          console.error(\"Error during cleanup:\", error);\n        }\n    };\n\n    return cleanup;\n  }, [populateVoiceList]);\n  \n  const stopSpeaking = useCallback(() => {\n    try {\n      if (audioRef.current) {\n          audioRef.current.pause();\n          audioRef.current.currentTime = 0;\n          audioRef.current.src = \"\";\n      }\n      if (typeof window !== 'undefined' && window.speechSynthesis) {\n          if (window.speechSynthesis.speaking || window.speechSynthesis.pending) {\n              window.speechSynthesis.cancel();\n          }\n      }\n    } catch (error) {\n      console.error(\"Error stopping speech:\", error);\n    } finally {\n      setIsSpeaking(false);\n    }\n  }, []);\n\n\n  const speak = useCallback((text: string, audioDataUri?: string, forceBrowserVoice = false) => {\n    // Validate input\n    if (!text || text.trim() === '') {\n      console.warn(\"Cannot speak empty text\");\n      return;\n    }\n    \n    console.log(\"üîä Attempting to speak:\", text);\n    \n    // Chrome-specific: Resume audio context if suspended\n    if (typeof window !== 'undefined' && window.speechSynthesis) {\n      try {\n        // Force resume on Chrome - fixes autoplay policy issues\n        if (window.speechSynthesis.paused) {\n          console.log(\"üîÑ Resuming speech synthesis (Chrome fix)\");\n          window.speechSynthesis.resume();\n        }\n      } catch (error) {\n        console.warn(\"Could not resume speech synthesis:\", error);\n      }\n    }\n    \n    // Stop any audio playback first\n    try {\n      if (audioRef.current) {\n          audioRef.current.pause();\n          audioRef.current.currentTime = 0;\n          audioRef.current.src = \"\";\n      }\n    } catch (error) {\n      console.error(\"Error stopping audio:\", error);\n    }\n\n    const speakBrowser = () => {\n        if (typeof window !== 'undefined' && window.speechSynthesis && text) {\n            // FIRST: Cancel any ongoing speech\n            if (window.speechSynthesis.speaking || window.speechSynthesis.pending) {\n                console.log(\"üõë Canceling previous speech...\");\n                window.speechSynthesis.cancel();\n            }\n            \n            // THEN: Wait and create new utterance\n            setTimeout(() => {\n                try {\n                    // Create fresh utterance\n                    const utterance = new SpeechSynthesisUtterance(text);\n                    \n                    let selectedVoice = voices.find(voice => voice.name === 'Google US English' && voice.lang === 'en-US');\n                    if (!selectedVoice) selectedVoice = voices.find(voice => voice.lang === 'en-US' && !voice.localService);\n                    if (!selectedVoice) selectedVoice = voices.find(voice => voice.lang === 'en-US');\n\n                    if (!selectedVoice) {\n                        if (voices.length === 0) {\n                             console.warn(\"‚ö†Ô∏è Speech synthesis voices not loaded yet. Retrying...\");\n                             setTimeout(() => speak(text, audioDataUri, forceBrowserVoice), 250);\n                             return;\n                        }\n                         console.warn(\"‚ö†Ô∏è Could not find 'en-US' voice, using default.\");\n                    }\n                    \n                    console.log(\"üé§ Using voice:\", selectedVoice?.name || \"default\");\n                    \n                    utterance.voice = selectedVoice || null;\n                    utterance.lang = 'en-US';\n                    utterance.rate = 0.9;\n                    utterance.volume = 1.0;\n\n                    utterance.onstart = () => {\n                        console.log(\"‚úÖ Speech STARTED:\", text);\n                        setIsSpeaking(true);\n                    };\n                    \n                    utterance.onend = () => {\n                        console.log(\"‚úÖ Speech ENDED:\", text);\n                        setIsSpeaking(false);\n                    };\n                    \n                    utterance.onerror = (e: SpeechSynthesisErrorEvent) => {\n                        // Ignore \"canceled\" errors - they're expected\n                        if (e.error === 'canceled' || e.error === 'interrupted') {\n                            console.log(\"‚ÑπÔ∏è Speech canceled (expected)\");\n                            setIsSpeaking(false);\n                            return;\n                        }\n                        \n                        // Log real errors\n                        console.error(\"‚ùå SpeechSynthesis REAL Error:\", {\n                            error: e.error,\n                            type: e.type,\n                            text: text\n                        });\n                        setIsSpeaking(false);\n                        \n                        // Retry logic for recoverable errors\n                        if (e.error === 'network' || e.error === 'synthesis-failed') {\n                            console.log(\"üîÑ Retrying speech synthesis...\");\n                            setTimeout(() => {\n                                try {\n                                    if (window.speechSynthesis) {\n                                        window.speechSynthesis.speak(utterance);\n                                    }\n                                } catch (retryError) {\n                                    console.error(\"Retry failed:\", retryError);\n                                }\n                            }, 500);\n                        }\n                    };\n                    \n                    // Store reference\n                    utteranceRef.current = utterance;\n                    \n                    // Chrome fix: Resume before speaking\n                    if (window.speechSynthesis.paused) {\n                        window.speechSynthesis.resume();\n                    }\n                    \n                    // Speak it!\n                    console.log(\"üó£Ô∏è SPEAKING NOW:\", text);\n                    window.speechSynthesis.speak(utterance);\n                    \n                    // Debug check\n                    setTimeout(() => {\n                        console.log(\"üìä Status check:\", {\n                            speaking: window.speechSynthesis.speaking,\n                            pending: window.speechSynthesis.pending,\n                            paused: window.speechSynthesis.paused\n                        });\n                        \n                        if (!window.speechSynthesis.speaking && !window.speechSynthesis.pending) {\n                            console.error(\"‚ö†Ô∏è Speech was called but not started!\");\n                            console.error(\"Possible issues: System volume muted, browser audio blocked, or need user interaction\");\n                        }\n                    }, 100);\n                    \n                } catch (error) {\n                    console.error(\"Speech synthesis error:\", error);\n                    setIsSpeaking(false);\n                }\n            }, 150); // Wait 150ms after cancel\n        } else {\n            console.warn(\"Speech synthesis not available or no text provided\");\n            setIsSpeaking(false);\n        }\n    };\n\n    // Execute\n    try {\n      if (forceBrowserVoice || (!audioDataUri && text)) {\n          speakBrowser();\n      } else if (audioDataUri) {\n          if (!audioRef.current) {\n              audioRef.current = new Audio();\n          }\n          const audio = audioRef.current;\n          \n          const onPlaying = () => setIsSpeaking(true);\n          const onEnded = () => {\n              setIsSpeaking(false);\n              audio.removeEventListener('playing', onPlaying);\n              audio.removeEventListener('ended', onEnded);\n              audio.removeEventListener('pause', onEnded);\n              audio.removeEventListener('error', onError);\n          };\n          \n          const onError = () => {\n              console.error(\"Audio playback error, falling back to browser TTS.\");\n              onEnded();\n              speakBrowser();\n          };\n\n          audio.addEventListener('playing', onPlaying);\n          audio.addEventListener('ended', onEnded);\n          audio.addEventListener('pause', onEnded);\n          audio.addEventListener('error', onError);\n          \n          try {\n              audio.src = audioDataUri;\n              audio.play().catch(error => {\n                  console.error(\"Failed to play AI audio, falling back to browser TTS.\", error);\n                  onEnded();\n                  speakBrowser();\n              });\n          } catch (error) {\n              console.error(\"Error setting audio source, falling back to browser TTS.\", error);\n              onEnded();\n              speakBrowser();\n          }\n      } else {\n          setIsSpeaking(false);\n      }\n    } catch (error) {\n      console.error(\"Error in speak function:\", error);\n      setIsSpeaking(false);\n    }\n  }, [voices]);\n\n  const startListening = useCallback(() => {\n    if (recognitionRef.current && !isListening) {\n      setTranscript('');\n      recognitionRef.current.start();\n      setIsListening(true);\n    }\n  }, [isListening]);\n\n  const stopListening = useCallback(() => {\n    if (recognitionRef.current && isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    }\n  }, [isListening]);\n\n  return { speak, startListening, stopListening, isListening, transcript, isSupported, setTranscript, isSpeaking, stopSpeaking };\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIO,SAAS;;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,iBAAiB,IAAA,uKAAM,EAAM;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,WAAW,IAAA,uKAAM,EAA0B;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,eAAe,IAAA,uKAAM,EAAkC;IAC7D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAyB,EAAE;IAE/D,MAAM,oBAAoB,IAAA,4KAAW;oDAAC;YACpC,IAAI,+CAAkB,eAAe,OAAO,eAAe,EAAE;gBAC3D,IAAI;oBACF,MAAM,YAAY,OAAO,eAAe,CAAC,SAAS;oBAClD,QAAQ,GAAG,CAAC,wBAAwB,UAAU,MAAM;oBACpD,IAAI,UAAU,MAAM,GAAG,GAAG;wBACxB,UAAU;oBACZ;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,0CAA0C;gBAC1D;YACF;QACF;mDAAG,EAAE;IAEL,IAAA,0KAAS;+BAAC;YACR,mCAAmC;YACnC,wCAAmC;gBACjC,MAAM,oBAAoB,AAAC,OAAe,iBAAiB,IAAI,AAAC,OAAe,uBAAuB;gBACtG,IAAI,mBAAmB;oBACrB,eAAe;oBACf,MAAM,cAAc,IAAI;oBACxB,YAAY,UAAU,GAAG;oBACzB,YAAY,IAAI,GAAG;oBACnB,YAAY,cAAc,GAAG;oBAE7B,YAAY,QAAQ;+CAAG,CAAC;4BACtB,MAAM,oBAAoB,MAAM,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU;4BACxD,cAAc;4BACd,eAAe;wBACjB;;oBAEA,YAAY,OAAO;+CAAG,CAAC;4BACrB,QAAQ,KAAK,CAAC,4BAA4B,MAAM,KAAK;4BACrD,eAAe;wBACjB;;oBAEA,YAAY,KAAK;+CAAG;4BAClB,eAAe;wBACjB;;oBAEA,eAAe,OAAO,GAAG;gBAC3B,OAAO;oBACL,eAAe;gBACjB;YACF;YAEA,iCAAiC;YACjC,IAAI,+CAAkB,eAAe,OAAO,eAAe,EAAE;gBACzD;gBACA,IAAI,OAAO,eAAe,CAAC,eAAe,KAAK,WAAW;oBACtD,OAAO,eAAe,CAAC,eAAe,GAAG;gBAC7C;gBAEA,oEAAoE;gBACpE,IAAI;oBACF,MAAM,gBAAgB,IAAI,yBAAyB;oBACnD,cAAc,MAAM,GAAG;oBACvB,OAAO,eAAe,CAAC,KAAK,CAAC;oBAE7B,8DAA8D;oBAC9D;+CAAW;4BACT,IAAI,OAAO,eAAe,CAAC,MAAM,EAAE;gCACjC,OAAO,eAAe,CAAC,MAAM;4BAC/B;wBACF;8CAAG;gBACL,EAAE,OAAO,OAAO;oBACd,QAAQ,IAAI,CAAC,0CAA0C;gBACzD;YACJ;YAEA,6CAA6C;YAC7C,MAAM;+CAAU;oBACZ,IAAI;wBACF,IAAI,SAAS,OAAO,EAAE;4BAClB,SAAS,OAAO,CAAC,KAAK;4BACtB,SAAS,OAAO,CAAC,GAAG,GAAG;wBAC3B;wBACA,IAAI,+CAAkB,eAAe,OAAO,eAAe,EAAE;4BACzD,OAAO,eAAe,CAAC,MAAM;wBACjC;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;oBACzC;gBACJ;;YAEA,OAAO;QACT;8BAAG;QAAC;KAAkB;IAEtB,MAAM,eAAe,IAAA,4KAAW;+CAAC;YAC/B,IAAI;gBACF,IAAI,SAAS,OAAO,EAAE;oBAClB,SAAS,OAAO,CAAC,KAAK;oBACtB,SAAS,OAAO,CAAC,WAAW,GAAG;oBAC/B,SAAS,OAAO,CAAC,GAAG,GAAG;gBAC3B;gBACA,IAAI,+CAAkB,eAAe,OAAO,eAAe,EAAE;oBACzD,IAAI,OAAO,eAAe,CAAC,QAAQ,IAAI,OAAO,eAAe,CAAC,OAAO,EAAE;wBACnE,OAAO,eAAe,CAAC,MAAM;oBACjC;gBACJ;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,0BAA0B;YAC1C,SAAU;gBACR,cAAc;YAChB;QACF;8CAAG,EAAE;IAGL,MAAM,QAAQ,IAAA,4KAAW;wCAAC,CAAC,MAAc,cAAuB,oBAAoB,KAAK;YACvF,iBAAiB;YACjB,IAAI,CAAC,QAAQ,KAAK,IAAI,OAAO,IAAI;gBAC/B,QAAQ,IAAI,CAAC;gBACb;YACF;YAEA,QAAQ,GAAG,CAAC,2BAA2B;YAEvC,qDAAqD;YACrD,IAAI,+CAAkB,eAAe,OAAO,eAAe,EAAE;gBAC3D,IAAI;oBACF,wDAAwD;oBACxD,IAAI,OAAO,eAAe,CAAC,MAAM,EAAE;wBACjC,QAAQ,GAAG,CAAC;wBACZ,OAAO,eAAe,CAAC,MAAM;oBAC/B;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,IAAI,CAAC,sCAAsC;gBACrD;YACF;YAEA,gCAAgC;YAChC,IAAI;gBACF,IAAI,SAAS,OAAO,EAAE;oBAClB,SAAS,OAAO,CAAC,KAAK;oBACtB,SAAS,OAAO,CAAC,WAAW,GAAG;oBAC/B,SAAS,OAAO,CAAC,GAAG,GAAG;gBAC3B;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;YACzC;YAEA,MAAM;6DAAe;oBACjB,IAAI,+CAAkB,eAAe,OAAO,eAAe,IAAI,MAAM;wBACjE,mCAAmC;wBACnC,IAAI,OAAO,eAAe,CAAC,QAAQ,IAAI,OAAO,eAAe,CAAC,OAAO,EAAE;4BACnE,QAAQ,GAAG,CAAC;4BACZ,OAAO,eAAe,CAAC,MAAM;wBACjC;wBAEA,sCAAsC;wBACtC;yEAAW;gCACP,IAAI;oCACA,yBAAyB;oCACzB,MAAM,YAAY,IAAI,yBAAyB;oCAE/C,IAAI,gBAAgB,OAAO,IAAI;mGAAC,CAAA,QAAS,MAAM,IAAI,KAAK,uBAAuB,MAAM,IAAI,KAAK;;oCAC9F,IAAI,CAAC,eAAe,gBAAgB,OAAO,IAAI;qFAAC,CAAA,QAAS,MAAM,IAAI,KAAK,WAAW,CAAC,MAAM,YAAY;;oCACtG,IAAI,CAAC,eAAe,gBAAgB,OAAO,IAAI;qFAAC,CAAA,QAAS,MAAM,IAAI,KAAK;;oCAExE,IAAI,CAAC,eAAe;wCAChB,IAAI,OAAO,MAAM,KAAK,GAAG;4CACpB,QAAQ,IAAI,CAAC;4CACb;6FAAW,IAAM,MAAM,MAAM,cAAc;4FAAoB;4CAC/D;wCACL;wCACC,QAAQ,IAAI,CAAC;oCAClB;oCAEA,QAAQ,GAAG,CAAC,mBAAmB,eAAe,QAAQ;oCAEtD,UAAU,KAAK,GAAG,iBAAiB;oCACnC,UAAU,IAAI,GAAG;oCACjB,UAAU,IAAI,GAAG;oCACjB,UAAU,MAAM,GAAG;oCAEnB,UAAU,OAAO;qFAAG;4CAChB,QAAQ,GAAG,CAAC,qBAAqB;4CACjC,cAAc;wCAClB;;oCAEA,UAAU,KAAK;qFAAG;4CACd,QAAQ,GAAG,CAAC,mBAAmB;4CAC/B,cAAc;wCAClB;;oCAEA,UAAU,OAAO;qFAAG,CAAC;4CACjB,8CAA8C;4CAC9C,IAAI,EAAE,KAAK,KAAK,cAAc,EAAE,KAAK,KAAK,eAAe;gDACrD,QAAQ,GAAG,CAAC;gDACZ,cAAc;gDACd;4CACJ;4CAEA,kBAAkB;4CAClB,QAAQ,KAAK,CAAC,iCAAiC;gDAC3C,OAAO,EAAE,KAAK;gDACd,MAAM,EAAE,IAAI;gDACZ,MAAM;4CACV;4CACA,cAAc;4CAEd,qCAAqC;4CACrC,IAAI,EAAE,KAAK,KAAK,aAAa,EAAE,KAAK,KAAK,oBAAoB;gDACzD,QAAQ,GAAG,CAAC;gDACZ;iGAAW;wDACP,IAAI;4DACA,IAAI,OAAO,eAAe,EAAE;gEACxB,OAAO,eAAe,CAAC,KAAK,CAAC;4DACjC;wDACJ,EAAE,OAAO,YAAY;4DACjB,QAAQ,KAAK,CAAC,iBAAiB;wDACnC;oDACJ;gGAAG;4CACP;wCACJ;;oCAEA,kBAAkB;oCAClB,aAAa,OAAO,GAAG;oCAEvB,qCAAqC;oCACrC,IAAI,OAAO,eAAe,CAAC,MAAM,EAAE;wCAC/B,OAAO,eAAe,CAAC,MAAM;oCACjC;oCAEA,YAAY;oCACZ,QAAQ,GAAG,CAAC,qBAAqB;oCACjC,OAAO,eAAe,CAAC,KAAK,CAAC;oCAE7B,cAAc;oCACd;qFAAW;4CACP,QAAQ,GAAG,CAAC,oBAAoB;gDAC5B,UAAU,OAAO,eAAe,CAAC,QAAQ;gDACzC,SAAS,OAAO,eAAe,CAAC,OAAO;gDACvC,QAAQ,OAAO,eAAe,CAAC,MAAM;4CACzC;4CAEA,IAAI,CAAC,OAAO,eAAe,CAAC,QAAQ,IAAI,CAAC,OAAO,eAAe,CAAC,OAAO,EAAE;gDACrE,QAAQ,KAAK,CAAC;gDACd,QAAQ,KAAK,CAAC;4CAClB;wCACJ;oFAAG;gCAEP,EAAE,OAAO,OAAO;oCACZ,QAAQ,KAAK,CAAC,2BAA2B;oCACzC,cAAc;gCAClB;4BACJ;wEAAG,MAAM,0BAA0B;oBACvC,OAAO;wBACH,QAAQ,IAAI,CAAC;wBACb,cAAc;oBAClB;gBACJ;;YAEA,UAAU;YACV,IAAI;gBACF,IAAI,qBAAsB,CAAC,gBAAgB,MAAO;oBAC9C;gBACJ,OAAO,IAAI,cAAc;oBACrB,IAAI,CAAC,SAAS,OAAO,EAAE;wBACnB,SAAS,OAAO,GAAG,IAAI;oBAC3B;oBACA,MAAM,QAAQ,SAAS,OAAO;oBAE9B,MAAM;kEAAY,IAAM,cAAc;;oBACtC,MAAM;gEAAU;4BACZ,cAAc;4BACd,MAAM,mBAAmB,CAAC,WAAW;4BACrC,MAAM,mBAAmB,CAAC,SAAS;4BACnC,MAAM,mBAAmB,CAAC,SAAS;4BACnC,MAAM,mBAAmB,CAAC,SAAS;wBACvC;;oBAEA,MAAM;gEAAU;4BACZ,QAAQ,KAAK,CAAC;4BACd;4BACA;wBACJ;;oBAEA,MAAM,gBAAgB,CAAC,WAAW;oBAClC,MAAM,gBAAgB,CAAC,SAAS;oBAChC,MAAM,gBAAgB,CAAC,SAAS;oBAChC,MAAM,gBAAgB,CAAC,SAAS;oBAEhC,IAAI;wBACA,MAAM,GAAG,GAAG;wBACZ,MAAM,IAAI,GAAG,KAAK;4DAAC,CAAA;gCACf,QAAQ,KAAK,CAAC,yDAAyD;gCACvE;gCACA;4BACJ;;oBACJ,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC,4DAA4D;wBAC1E;wBACA;oBACJ;gBACJ,OAAO;oBACH,cAAc;gBAClB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,cAAc;YAChB;QACF;uCAAG;QAAC;KAAO;IAEX,MAAM,iBAAiB,IAAA,4KAAW;iDAAC;YACjC,IAAI,eAAe,OAAO,IAAI,CAAC,aAAa;gBAC1C,cAAc;gBACd,eAAe,OAAO,CAAC,KAAK;gBAC5B,eAAe;YACjB;QACF;gDAAG;QAAC;KAAY;IAEhB,MAAM,gBAAgB,IAAA,4KAAW;gDAAC;YAChC,IAAI,eAAe,OAAO,IAAI,aAAa;gBACzC,eAAe,OAAO,CAAC,IAAI;gBAC3B,eAAe;YACjB;QACF;+CAAG;QAAC;KAAY;IAEhB,OAAO;QAAE;QAAO;QAAgB;QAAe;QAAa;QAAY;QAAa;QAAe;QAAY;IAAa;AAC/H;GA1UgB"}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinish/Documents/Workspace/Frontend/EduPlayz/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinish/Documents/Workspace/Frontend/EduPlayz/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 554, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinish/Documents/Workspace/Frontend/EduPlayz/src/app/test-speech/page.tsx"],"sourcesContent":["'use client';\n\nimport { useSpeech } from '@/hooks/use-speech';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useState, useEffect } from 'react';\n\nexport default function SpeechTestPage() {\n  const { speak, isSpeaking, stopSpeaking } = useSpeech();\n  const [testText, setTestText] = useState('');\n  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);\n  const [synthStatus, setSynthStatus] = useState('');\n\n  useEffect(() => {\n    if (typeof window !== 'undefined' && window.speechSynthesis) {\n      const loadVoices = () => {\n        const availableVoices = window.speechSynthesis.getVoices();\n        console.log('Loaded voices:', availableVoices);\n        setVoices(availableVoices);\n        setSynthStatus(`Loaded ${availableVoices.length} voices`);\n      };\n\n      loadVoices();\n      if (window.speechSynthesis.onvoiceschanged !== undefined) {\n        window.speechSynthesis.onvoiceschanged = loadVoices;\n      }\n    } else {\n      setSynthStatus('Speech Synthesis NOT supported');\n    }\n  }, []);\n\n  const testBrowserAPI = () => {\n    if (typeof window !== 'undefined' && window.speechSynthesis) {\n      console.log('Testing browser SpeechSynthesis API directly...');\n      const utterance = new SpeechSynthesisUtterance('Testing browser speech API');\n      utterance.onstart = () => console.log('‚úÖ Direct API: Speech started');\n      utterance.onend = () => console.log('‚úÖ Direct API: Speech ended');\n      utterance.onerror = (e) => console.error('‚ùå Direct API Error:', e);\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  const testSamples = [\n    { text: 'Hello', label: 'Hello' },\n    { text: 'A', label: 'Letter A' },\n    { text: 'Apple', label: 'Apple' },\n    { text: 'The quick brown fox jumps over the lazy dog', label: 'Long sentence' },\n  ];\n\n  return (\n    <div className=\"container mx-auto p-8 max-w-4xl\">\n      <h1 className=\"text-4xl font-bold mb-8\">Speech Synthesis Test Page</h1>\n\n      <Card className=\"mb-6\">\n        <CardHeader>\n          <CardTitle>System Status</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-2\">\n            <p><strong>Speech Synthesis Available:</strong> {typeof window !== 'undefined' && window.speechSynthesis ? '‚úÖ Yes' : '‚ùå No'}</p>\n            <p><strong>Voices Status:</strong> {synthStatus}</p>\n            <p><strong>Currently Speaking:</strong> {isSpeaking ? 'üó£Ô∏è Yes' : 'üîá No'}</p>\n            <p><strong>Number of Voices:</strong> {voices.length}</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"mb-6\">\n        <CardHeader>\n          <CardTitle>Available Voices</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"max-h-48 overflow-y-auto\">\n            {voices.length === 0 ? (\n              <p className=\"text-muted-foreground\">No voices loaded yet...</p>\n            ) : (\n              <ul className=\"space-y-1\">\n                {voices.map((voice, index) => (\n                  <li key={index} className=\"text-sm\">\n                    {voice.name} ({voice.lang}) {voice.default ? '‚≠ê' : ''}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"mb-6\">\n        <CardHeader>\n          <CardTitle>Quick Tests</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-2 gap-4\">\n            {testSamples.map((sample) => (\n              <Button\n                key={sample.text}\n                onClick={() => {\n                  console.log(`Testing: \"${sample.text}\"`);\n                  speak(sample.text, undefined, true);\n                }}\n                disabled={isSpeaking}\n                variant=\"outline\"\n              >\n                {sample.label}\n              </Button>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"mb-6\">\n        <CardHeader>\n          <CardTitle>Direct Browser API Test</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Button onClick={testBrowserAPI} variant=\"secondary\">\n            Test Browser API Directly\n          </Button>\n          <p className=\"text-sm text-muted-foreground mt-2\">\n            This bypasses our custom hook and tests the browser API directly\n          </p>\n        </CardContent>\n      </Card>\n\n      <Card className=\"mb-6\">\n        <CardHeader>\n          <CardTitle>Custom Text Test</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex gap-2\">\n            <input\n              type=\"text\"\n              value={testText}\n              onChange={(e) => setTestText(e.target.value)}\n              placeholder=\"Enter text to speak...\"\n              className=\"flex-1 px-3 py-2 border rounded\"\n            />\n            <Button\n              onClick={() => {\n                console.log(`Speaking custom text: \"${testText}\"`);\n                speak(testText, undefined, true);\n              }}\n              disabled={isSpeaking || !testText}\n            >\n              Speak\n            </Button>\n            <Button\n              onClick={stopSpeaking}\n              disabled={!isSpeaking}\n              variant=\"destructive\"\n            >\n              Stop\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Console Logs</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-sm text-muted-foreground\">\n            Open the browser console (F12) to see detailed logs about voice loading,\n            speech synthesis calls, and any errors.\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":["file:///Users/vinish/Documents/Workspace/Frontend/EduPlayz/node_modules/%40radix-ui/react-slot/src/slot.tsx"],"sourcesContent":["import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\ndeclare module 'react' {\n  interface ReactElement {\n    $$typeof?: symbol | string;\n  }\n}\n\nconst REACT_LAZY_TYPE = Symbol.for('react.lazy');\n\ninterface LazyReactElement extends React.ReactElement {\n  $$typeof: typeof REACT_LAZY_TYPE;\n  _payload: PromiseLike<Exclude<React.ReactNode, PromiseLike<any>>>;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\nexport type Usable<T> = PromiseLike<T> | React.Context<T>;\nconst use: typeof React.use | undefined = (React as any)[' use '.trim().toString()];\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nfunction isPromiseLike(value: unknown): value is PromiseLike<unknown> {\n  return typeof value === 'object' && value !== null && 'then' in value;\n}\n\nfunction isLazyComponent(element: React.ReactNode): element is LazyReactElement {\n  return (\n    element != null &&\n    typeof element === 'object' &&\n    '$$typeof' in element &&\n    element.$$typeof === REACT_LAZY_TYPE &&\n    '_payload' in element &&\n    isPromiseLike(element._payload)\n  );\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlot(ownerName: string) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === 'function') {\n      children = use(children._payload);\n    }\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n\n    if (slottable) {\n      // the new element to render is the one passed as a child of `Slottable`\n      const newElement = slottable.props.children;\n\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          // because the new element will be the one rendered, we are only interested\n          // in grabbing its children (`newElement.props.children`)\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement)\n            ? (newElement.props as { children: React.ReactNode }).children\n            : null;\n        } else {\n          return child;\n        }\n      });\n\n      return (\n        <SlotClone {...slotProps} ref={forwardedRef}>\n          {React.isValidElement(newElement)\n            ? React.cloneElement(newElement, undefined, newChildren)\n            : null}\n        </SlotClone>\n      );\n    }\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {children}\n      </SlotClone>\n    );\n  });\n\n  Slot.displayName = `${ownerName}.Slot`;\n  return Slot;\n}\n\nconst Slot = createSlot('Slot');\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ function createSlotClone(ownerName: string) {\n  const SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === 'function') {\n      children = use(children._payload);\n    }\n\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props = mergeProps(slotProps, children.props as AnyProps);\n      // do not pass ref to React.Fragment for React 19 compatibility\n      if (children.type !== React.Fragment) {\n        props.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props);\n    }\n\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLOTTABLE_IDENTIFIER = Symbol('radix.slottable');\n\ninterface SlottableProps {\n  children: React.ReactNode;\n}\n\ninterface SlottableComponent extends React.FC<SlottableProps> {\n  __radixId: symbol;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlottable(ownerName: string) {\n  const Slottable: SlottableComponent = ({ children }) => {\n    return <>{children}</>;\n  };\n  Slottable.displayName = `${ownerName}.Slottable`;\n  Slottable.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable;\n}\n\nconst Slottable = createSlottable('Slottable');\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(\n  child: React.ReactNode,\n): child is React.ReactElement<SlottableProps, typeof Slottable> {\n  return (\n    React.isValidElement(child) &&\n    typeof child.type === 'function' &&\n    '__radixId' in child.type &&\n    child.type.__radixId === SLOTTABLE_IDENTIFIER\n  );\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element.props as { ref?: React.Ref<unknown> }).ref;\n  }\n\n  // Not DEV\n  return (element.props as { ref?: React.Ref<unknown> }).ref || (element as any).ref;\n}\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Slot as Root,\n};\nexport type { SlotProps };\n"],"names":["Fragment", "Slot", "props", "Slottable"],"mappings":"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"}}]
}